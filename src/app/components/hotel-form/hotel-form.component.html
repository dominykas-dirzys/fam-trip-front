<h3 mat-dialog-title>Hotel: {{ data.name }}</h3>

<form [formGroup]="form" mat-dialog-content>
  <mat-form-field>
    <mat-label>Name</mat-label>
    <input
      matInput
      required
      autocomplete="off"
      formControlName="name"
    />
    <mat-error *ngIf="name.errors?.minlength">
      At least 2 characters are required
    </mat-error>
    <mat-error *ngIf="name.errors?.maxlength">
      Maximum 100 characters allowed
    </mat-error>
    <mat-error *ngIf="name.errors?.required">
      Name is required
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Official Rating</mat-label>
    <mat-select matNativeControl [formControl]="officialRating"
            name="rating" required>
      <mat-option value="ONE_STAR">1 &#9733;</mat-option>
      <mat-option value="TWO_STAR">2 &#9733;</mat-option>
      <mat-option value="THREE_STAR">3 &#9733;</mat-option>
      <mat-option value="FOUR_STAR">4 &#9733;</mat-option>
      <mat-option value="FIVE_STAR">5 &#9733;</mat-option>
      <mat-option value="HV_1">HV 1</mat-option>
      <mat-option value="HV_2">HV 2</mat-option>
      <mat-option value="APARTMENTS">Apartments</mat-option>
      <mat-option value="NO_RATING">No Rating</mat-option>
    </mat-select>
    <mat-error *ngIf="inspectionScore.errors?.required">
      Official rating is required
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>City</mat-label>
    <input type="text"
           matInput
           formControlName="city"
           required
           [matAutocomplete]="autoGroup"
    />
    <mat-autocomplete #autoGroup="matAutocomplete" [displayWith]="displayFn">
      <mat-optgroup *ngFor="let group of cityGroupOptions | async" [label]="group.country">
        <mat-option *ngFor="let city of group.cities" [value]="city">
          {{city.title}}
        </mat-option>
      </mat-optgroup>
    </mat-autocomplete>
    <mat-error *ngIf="form.controls['city'].hasError('required')">
      City is required
    </mat-error>

    <mat-error *ngIf="form.controls['city'].hasError('incorrect')">
      Please select city from the list
    </mat-error>
  </mat-form-field>

  <button mat-raised-button color="primary" (click)="openDialog()">
    Add new city
  </button>

  <mat-form-field>
    <mat-label>Inspection Score 1-10</mat-label>
    <input
      matInput
      required
      formControlName="inspectionScore"
    />
    <mat-error *ngIf="inspectionScore.errors?.required">
      Inspection Score is required
    </mat-error>
    <mat-error *ngIf="inspectionScore.errors?.min">
      Inspection Score must be from 1 to 10
    </mat-error>
    <mat-error *ngIf="inspectionScore.errors?.max">
      Inspection Score must be from 1 to 10
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Food Quality</mat-label>
    <mat-select matNativeControl [formControl]="foodQuality" name="foodQuality">
      <mat-option value="TERRIBLE">Terrible</mat-option>
      <mat-option value="POOR">Poor</mat-option>
      <mat-option value="AVERAGE">Average</mat-option>
      <mat-option value="GOOD">Good</mat-option>
      <mat-option value="FANTASTIC">Fantastic</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Territory Size</mat-label>
    <mat-select matNativeControl [formControl]="territorySize" name="territorySize">
      <mat-option value="SMALL">Small</mat-option>
      <mat-option value="NORMAL">Normal</mat-option>
      <mat-option value="LARGE">Large</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-checkbox [formControl]="waterSlides">Water Slides</mat-checkbox>

  <mat-checkbox [formControl]="spa">SPA</mat-checkbox>

  <mat-form-field>
    <mat-label>Distance to Beach (m)</mat-label>
    <input
      type="number"
      matInput
      formControlName="distanceToBeach"
    />
    <mat-error *ngIf="distanceToBeach.errors?.min">
      Distance can't be < 0 m
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Distance from Airport (km)</mat-label>
    <input
      type="number"
      matInput
      formControlName="distanceFromAirport"
    />
    <mat-error *ngIf="distanceFromAirport.errors?.min">
      Distance can't be < 0 km
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Recommended To</mat-label>
    <mat-select matNativeControl [formControl]="recommendedTos" multiple>
      <mat-option value="FAMILIES_WITH_YOUNG_CHILDREN">Families with young children</mat-option>
      <mat-option value="FAMILIES_WITH_OLDER_CHILDREN">Families with older children</mat-option>
      <mat-option value="COUPLES">Couples</mat-option>
      <mat-option value="FRIENDS">Friends</mat-option>
      <mat-option value="YOUTH">Youth</mat-option>
      <mat-option value="BUSINESS">Business</mat-option>
      <mat-option value="SOLO_TRAVELERS">Solo travelers</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Labels</mat-label>
    <mat-select matNativeControl [formControl]="labels" multiple>
      <mat-option value="ECONOMY">Economy</mat-option>
      <mat-option value="SUPERIOR">Superior</mat-option>
      <mat-option value="BOUTIQUE">Boutique</mat-option>
      <mat-option value="ADULTS_ONLY">Adults only</mat-option>
      <mat-option value="ECO_FRIENDLY">Eco-friendly</mat-option>
      <mat-option value="PARTY">Party</mat-option>
      <mat-option value="SHOPPING">Shopping</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Cuisine Types</mat-label>
    <mat-select matNativeControl [formControl]="cuisineTypes" multiple>
      <mat-option value="VEGETARIAN">Vegetarian</mat-option>
      <mat-option value="ASIAN">Asian</mat-option>
      <mat-option value="CONTINENTAL">Continental</mat-option>
      <mat-option value="MEXICAN">Mexican</mat-option>
      <mat-option value="LOCAL">Local</mat-option>
      <mat-option value="SEAFOOD">Seafood</mat-option>
      <mat-option value="CUSTOM">Custom</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="remarks" appearance="fill">
    <mat-label>Remarks</mat-label>
    <textarea matInput matTextareaAutosize [matAutosizeMinRows]="5" formControlName="remarks"></textarea>
  </mat-form-field>

</form>

<div mat-dialog-actions class="center">
  <button mat-raised-button mat-button (click)="cancel()">Cancel</button>
  <button mat-raised-button color="primary" [disabled]="form.invalid" (click)="save()">Save</button>
</div>
